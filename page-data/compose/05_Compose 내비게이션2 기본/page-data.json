{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/compose/05_Compose 내비게이션2 기본/","result":{"data":{"site":{"siteMetadata":{"title":"NiNyYoon"}},"markdownRemark":{"id":"0b6a7e68-5ab3-5917-b48a-fa2e67160d08","excerpt":"Compose Navigation2 안드로이드 애플리케이션을 개발할 때 화면 이동(Navigation) 은 사용자 경험의 핵심 요소입니다. Compose 에서 화면 이동(Navigation)을 구현할 때, 사용자가 직접 화면에 대한 상태(State…","html":"<h1>Compose Navigation2</h1>\n<p>안드로이드 애플리케이션을 개발할 때 <strong>화면 이동(Navigation)</strong> 은 사용자 경험의 핵심 요소입니다.<br>\nCompose 에서 화면 이동(Navigation)을 구현할 때, 사용자가 직접 화면에 대한 상태(State) 를 정의하고 이 상태 값을 변경하여 화면을 노출 시켜줄 수도 있지만, 이처럼 직접 구현하게 되면 <strong>상태 저장</strong>, <strong>생명주기 관리</strong>, <strong>백 스택 관리</strong> 등 고려해야 할 점이 복잡하게 늘어납니다. (viewModel 을 사용할 경우 <code class=\"language-text\">ViewModelStoerOwner</code> 의 구현 등)<br>\n그러므로 Compose 에서는 네비게이션을 쉽게 사용하기 위해 공식 <code class=\"language-text\">navigation-compose</code> 라이브러리를 사용합니다.<br>\n지금 부터 Comopse Navigation 의 기본적인 개념과 간단한 예시를 통해 라이브러리를 이해해 보도록 하겠습니다.</p>\n<blockquote>\n<p>본 내용은 Navigation2 에 대한 간략한 개념/사용법을 소개하며, Navigation3 는 추후 포스트에서 Navigation2 와 비교하면서 다루도록 하겠습니다.</p>\n</blockquote>\n<h1>Compose Navigation 의 핵심 가치</h1>\n<p><strong>1. Type-safe (타입 안전성)</strong></p>\n<p>가장 큰 장점 중 하나입니다. 기존에는 화면 간 데이터(인자)를 전달할 때 String이나 Bundle을 사용하여 타입 오류가 발생하기 쉬웠습니다. 하지만 Compose Navigation은 Route 정의 시 인자의 타입을 명시할 수 있게 되어, 잘못된 타입의 데이터를 전달하려는 시도를 컴파일 시점에 잡아낼 수 있습니다.</p>\n<p><strong>2. 상태 주도 (State-driven)</strong></p>\n<p>Compose의 철학을 그대로 따릅니다. 화면 이동을 명령(Imperative)하는 것이 아니라, 내비게이션 상태(State)가 변경되면 그에 따라 화면(UI)이 자동으로 갱신됩니다. 이는 내비게이션 로직을 더욱 직관적이고 예측 가능하게 만듭니다.</p>\n<p><strong>3. 단일 활동 아키텍처 (Single-Activity Architecture)</strong></p>\n<p>Compose 앱은 모든 화면을 단일 Activity 내의 여러 Composable로 구성하는 것이 권장됩니다. Compose Navigation은 이 단일 Activity 내에서 여러 화면 컴포저블 간의 전환을 효율적으로 관리하여, 앱의 복잡성을 줄이고 성능을 개선하는 데 기여합니다.</p>\n<h1>Library Settings</h1>\n<p>Navigation 2 사용</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\">dependencies <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">val</span> nav_version <span class=\"token operator\">=</span> <span class=\"token string-literal singleline\"><span class=\"token string\">\"2.9.6\"</span></span>\n\n    <span class=\"token function\">implementation</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"androidx.navigation:navigation-compose:</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$</span><span class=\"token expression\">nav_version</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h1>Compose Navigation 핵심 요소</h1>\n<p>이해를 위해 먼저 예제 코드를 확인해 보겠습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token comment\">// HomeScreen 컴포저블</span>\n<span class=\"token annotation builtin\">@Composable</span>\n<span class=\"token keyword\">fun</span> <span class=\"token function\">HomeScreen</span><span class=\"token punctuation\">(</span>\n    onNavigateToDetail<span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>itemId<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> Unit<span class=\"token punctuation\">,</span>\n    modifier<span class=\"token operator\">:</span> Modifier <span class=\"token operator\">=</span> Modifier\n<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">Column</span><span class=\"token punctuation\">(</span>\n        modifier <span class=\"token operator\">=</span> modifier<span class=\"token punctuation\">.</span><span class=\"token function\">fillMaxSize</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        horizontalAlignment <span class=\"token operator\">=</span> Alignment<span class=\"token punctuation\">.</span>CenterHorizontally<span class=\"token punctuation\">,</span>\n        verticalArrangement <span class=\"token operator\">=</span> Arrangement<span class=\"token punctuation\">.</span>Center\n    <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">Text</span><span class=\"token punctuation\">(</span>text <span class=\"token operator\">=</span> <span class=\"token string-literal singleline\"><span class=\"token string\">\"Home Screen\"</span></span><span class=\"token punctuation\">,</span> style <span class=\"token operator\">=</span> MaterialTheme<span class=\"token punctuation\">.</span>typography<span class=\"token punctuation\">.</span>headlineLarge<span class=\"token punctuation\">)</span>\n        <span class=\"token function\">Spacer</span><span class=\"token punctuation\">(</span>modifier <span class=\"token operator\">=</span> Modifier<span class=\"token punctuation\">.</span><span class=\"token function\">height</span><span class=\"token punctuation\">(</span><span class=\"token number\">16</span><span class=\"token punctuation\">.</span>dp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token function\">Button</span><span class=\"token punctuation\">(</span>onClick <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token comment\">// 버튼 클릭 이벤트 발생 -> 콜백 함수 호출 (상위 컴포저블에 네비게이션 요청)</span>\n            <span class=\"token keyword\">val</span> itemId <span class=\"token operator\">=</span> <span class=\"token number\">456</span>\n            <span class=\"token function\">onNavigateToDetail</span><span class=\"token punctuation\">(</span>itemId<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token function\">Text</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"Go to Detail (ID: 456)\"</span></span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// DetailScreen 컴포저블</span>\n<span class=\"token annotation builtin\">@Composable</span>\n<span class=\"token keyword\">fun</span> <span class=\"token function\">DetailScreen</span><span class=\"token punctuation\">(</span>itemId<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// ... DetailScreen 내용 ...</span>\n    <span class=\"token function\">Text</span><span class=\"token punctuation\">(</span>text <span class=\"token operator\">=</span> <span class=\"token string-literal singleline\"><span class=\"token string\">\"Received Item ID: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$</span><span class=\"token expression\">itemId</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\">\n<span class=\"token comment\">// Route: Home 화면 Route (인자가 없으면 빈 클래스)</span>\n<span class=\"token annotation builtin\">@Serializable</span>\n<span class=\"token keyword\">object</span> HomeRoute\n\n<span class=\"token comment\">// Route: Detail 화면 Route (인자는 클래스의 속성으로 정의)</span>\n<span class=\"token annotation builtin\">@Serializable</span>\n<span class=\"token keyword\">data</span> <span class=\"token keyword\">class</span> <span class=\"token function\">DetailRoute</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">val</span> itemId<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// NavHost를 포함하는 메인 컴포저블</span>\n<span class=\"token annotation builtin\">@Composable</span>\n<span class=\"token keyword\">fun</span> <span class=\"token function\">AppNavigationTypeSafe</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// ⬅️ 핵심 요소 1: NavController 생성 및 상태 저장 (네비게이션 엔진)</span>\n    <span class=\"token keyword\">val</span> navController <span class=\"token operator\">=</span> <span class=\"token function\">rememberNavController</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    \n    <span class=\"token comment\">// ⬅️ 핵심 요소 2: 요소 2: NavHost - 네비게이션 영역 및 목적지(Route) 등록 컨테이너</span>\n    <span class=\"token function\">NavHost</span><span class=\"token punctuation\">(</span>\n        navController <span class=\"token operator\">=</span> navController<span class=\"token punctuation\">,</span> \n        startDestination <span class=\"token operator\">=</span> HomeRoute\n    <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n        <span class=\"token comment\">// Home 화면 등록</span>\n        composable<span class=\"token operator\">&lt;</span>HomeRoute<span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n            <span class=\"token function\">HomeScreen</span><span class=\"token punctuation\">(</span>\n                <span class=\"token comment\">// ⬅️ onNavigateToDetail 콜백 함수 정의</span>\n                onNavigateToDetail <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> itemId <span class=\"token operator\">-></span>\n                    <span class=\"token comment\">// 콜백이 호출되면, navController를 사용하여 실제 이동 실행</span>\n                    navController<span class=\"token punctuation\">.</span><span class=\"token function\">navigate</span><span class=\"token punctuation\">(</span><span class=\"token function\">DetailRoute</span><span class=\"token punctuation\">(</span>itemId <span class=\"token operator\">=</span> itemId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token comment\">// Detail 화면 등록 (DetailRoute 인자를 toRoute&lt;T>()로 타입 안전하게 추출)</span>\n        composable<span class=\"token operator\">&lt;</span>DetailRoute<span class=\"token operator\">></span> <span class=\"token punctuation\">{</span> backStackEntry <span class=\"token operator\">-></span>\n            <span class=\"token keyword\">val</span> route <span class=\"token operator\">=</span> backStackEntry<span class=\"token punctuation\">.</span>toRoute<span class=\"token operator\">&lt;</span>DetailRoute<span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token function\">DetailScreen</span><span class=\"token punctuation\">(</span>itemId <span class=\"token operator\">=</span> route<span class=\"token punctuation\">.</span>itemId<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<blockquote>\n<p>위 코드를 실무에서 쓰기에도 충분하겠지만 조금더 현대적인 네비게이션 구성을 확인하려면 <a href=\"%22https://github.com/android/nowinandroid%22\">Now in Android</a> 코드를 참고해 보시는길 추천드립니다.</p>\n</blockquote>\n<h3>핵심요소1. NavController (네비게이션 컨트롤러)</h3>\n<p><strong>NavController</strong> 는 네비게이션을 실제로 제어하고 관리하는 핵심 객체입니다.</p>\n<p><strong>역할</strong>: 화면 전환(Navigation), 뒤로 가기(Pop), Back Stack(백 스택) 관리 등 모든 네비게이션 작업을 처리하는 네비게이션 엔진입니다.</p>\n<p><strong>코드 내 위치</strong>:</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">val</span> navController <span class=\"token operator\">=</span> <span class=\"token function\">rememberNavController</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><strong>코드 내 역할:</strong></p>\n<ul>\n<li>rememberNavController()를 통해 생성되어 컴포저블의 생명주기 동안 상태를 유지합니다.</li>\n<li>HomeScreen의 콜백 함수 내에서 실제로 화면을 이동시키는 명령을 수행합니다: <code class=\"language-text\">navController.navigate(DetailRoute(itemId = itemId))</code></li>\n</ul>\n<h3>핵심요소2. Route (경로/목적지 식별자)</h3>\n<p><strong>Route</strong> 는 네비게이션이 도달할 <strong>특정 화면(Destination)</strong> 을 유일하게 식별하는 경로입니다. 전통적으로는 문자열을 사용했지만, 제공된 코드에서는 제가 선호하는 타입 안전성을 위해 <code class=\"language-text\">@Serializable</code> 클래스를 사용합니다.</p>\n<p><strong>역할</strong>: 특정 목적지를 가리키는 <strong>주소</strong>의 역할을 합니다. 인자가 필요할 경우, 해당 인자를 Route 객체의 속성으로 포함합니다.</p>\n<p><strong>코드 내 위치</strong>:</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token annotation builtin\">@Serializable</span>\n<span class=\"token keyword\">object</span> HomeRoute\n\n<span class=\"token annotation builtin\">@Serializable</span>\n<span class=\"token keyword\">data</span> <span class=\"token keyword\">class</span> <span class=\"token function\">DetailRoute</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">val</span> itemId<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">)</span></code></pre></div>\n<p><strong>코드 내 역할</strong>:</p>\n<ul>\n<li><code class=\"language-text\">HomeRoute</code>는 인자가 필요 없는 홈 화면의 주소를 나타냅니다.</li>\n<li><code class=\"language-text\">DetailRoute(val itemId: Int)</code>는 <code class=\"language-text\">itemId라는</code> 인자를 포함하는 상세 화면의 주소를 나타냅니다. 네비게이션 시 이 객체를 전달하고 (<code class=\"language-text\">navController.navigate(DetailRoute(...))</code>), 목적지에서 다시 추출하여 사용합니다</li>\n</ul>\n<h3>핵심요소3. NavHost (네비게이션 호스트)</h3>\n<p><strong>NavHost</strong> 는 네비게이션이 일어나는 영역을 정의하며, 현재의 <code class=\"language-text\">Route</code>에 해당하는 <strong>실제 UI(Composable)</strong> 를 표시하는 컨테이너입니다.</p>\n<p><strong>역할</strong>: 네비게이션 그래프(<code class=\"language-text\">NavGraph</code>)와 <strong>NavController</strong> 를 연결하고, 현재 상태에 따라 적절한 <code class=\"language-text\">NavDestination</code>의 컴포저블을 렌더링합니다.</p>\n<p><strong>코드 내 위치</strong>:</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token function\">NavHost</span><span class=\"token punctuation\">(</span>\n    navController <span class=\"token operator\">=</span> navController<span class=\"token punctuation\">,</span> \n    startDestination <span class=\"token operator\">=</span> HomeRoute <span class=\"token comment\">// 시작 지점</span>\n<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// ... 목적지 등록 ...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>코드 내 역할</strong>:</p>\n<ul>\n<li><code class=\"language-text\">navController</code>와 연결되어 네비게이션 이벤트를 받습니다.</li>\n<li><code class=\"language-text\">startDestination</code>으로 앱이 시작될 때 처음 보여줄 화면을 지정합니다.</li>\n<li>빌더(<code class=\"language-text\">NavGraphBuilder.() -> Unit</code>)의 <code class=\"language-text\">composable&lt;T></code> 함수를 통해 목적지들을 등록합니다. (navController.createGraph(...) 통해 그래프 객체를 만들어서 전달주는 방법도 가능합니다.)</li>\n</ul>\n<h3>핵심요소4. NavDestination (네비게이션 목적지)</h3>\n<p><strong>NavDestination</strong> 은 네비게이션을 통해 도달할 수 있는 하나의 독립된 화면 단위를 의미하며, 일반적으로 <strong>특정 Composable</strong> 을 감싸고 있습니다.</p>\n<p><strong>역할</strong>: 네비게이션 그래프 내의 노드(Node)입니다. <code class=\"language-text\">composable&lt;T></code> 블록 하나가 하나의 NavDestination을 생성합니다.</p>\n<p><strong>코드 내 위치</strong>:</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\">composable<span class=\"token operator\">&lt;</span>HomeRoute<span class=\"token operator\">></span> <span class=\"token punctuation\">{</span> \n    <span class=\"token function\">HomeScreen</span><span class=\"token punctuation\">(</span><span class=\"token operator\">..</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span> \n<span class=\"token punctuation\">}</span> \n<span class=\"token comment\">// 그리고</span>\ncomposable<span class=\"token operator\">&lt;</span>DetailRoute<span class=\"token operator\">></span> <span class=\"token punctuation\">{</span> \n    <span class=\"token function\">DetailScreen</span><span class=\"token punctuation\">(</span><span class=\"token operator\">..</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span> \n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>코드 내 역할</strong>:</p>\n<ul>\n<li>각 <code class=\"language-text\">composable&lt;T></code> 블록은 <code class=\"language-text\">HomeRoute</code>와 <code class=\"language-text\">DetailRoute</code>라는 Route에 매핑되는 <strong>개별적인 목적지</strong> 를 정의합니다.</li>\n<li>이 목적지 내부에 <code class=\"language-text\">HomeScreen</code>과 <code class=\"language-text\">DetailScreen</code> 컴포저블이 위치합니다.</li>\n</ul>\n<h3>핵심요소5. NavGraph (네비게이션 그래프)</h3>\n<p><strong>NavGraph</strong> 는 앱 내의 모든 NavDestination<strong>들을 모아 연결해</strong> 놓은 집합체로, <strong>네비게이션의 구조</strong>를 정의합니다.</p>\n<p><strong>역할</strong>:<br>\n앱의 모든 화면(Destination)과 그 화면들 간의 이동 가능한 경로(Action)를 정의하는 <strong>지도 또는 청사진</strong> 입니다. <code class=\"language-text\">NavHost</code> 내의 블록 자체가 하나의 그래프를 구성합니다.</p>\n<p><strong>코드 내 위치</strong>:</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token function\">NavHost</span><span class=\"token punctuation\">(</span><span class=\"token operator\">..</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// 이 블록 전체가 NavGraph를 정의합니다.</span>\n    composable<span class=\"token operator\">&lt;</span>HomeRoute<span class=\"token operator\">></span> <span class=\"token punctuation\">{</span> <span class=\"token operator\">..</span><span class=\"token punctuation\">.</span> <span class=\"token punctuation\">}</span>\n    composable<span class=\"token operator\">&lt;</span>DetailRoute<span class=\"token operator\">></span> <span class=\"token punctuation\">{</span> <span class=\"token operator\">..</span><span class=\"token punctuation\">.</span> <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>코드 내 역할</strong>:</p>\n<ul>\n<li>NavHost의 블록({}) 내에 등록된 모든 <code class=\"language-text\">composable</code> 목적지들을 포함하여 <strong>\"이 앱에서는 HomeRoute와 DetailRoute로 이동할 수 있다\"</strong> 는 전체 구조를 NavController에게 제공합니다.</li>\n<li><code class=\"language-text\">startDestination = HomeRoute</code>는 이 그래프의 시작점을 명시합니다.</li>\n</ul>\n<h1>마치며</h1>\n<p>기본적인 Compose Navigation2 라이브러리의 사용방법을 간단하게 알아봤습니다.<br>\nNavigation3가 나온 시점에서 Navigation2 를 자세히 알아보기 보다는 기본적인 구성요소와 사용법만을 알아보고 다음 포스트에서 Navigation3 의 소개와 Navigation2와 비교했을 때의 장점을 알아보도록 하겠습니다.</p>","frontmatter":{"title":"::compose:: Navigation2 간단하게 살펴보기","date":"November 26, 2025","description":"Jetpack compose Navigation2 라이브러리에 대해 기본적인 사용법을 간단하게 알아봅니다. 이후 포스트에서 Navigation3 와 비교하여 알아봅니다.","tags":["android","jetpack compose","navigation","네비게이션"],"featuredImage":null}},"previous":{"fields":{"slug":"/compose/06_Compose Jetpack Compose Navigation3 살펴보기/"},"frontmatter":{"title":"::compose:: Navigation3 핵심개념 살펴보기"}},"next":{"fields":{"slug":"/android_etc/Parcelize/"},"frontmatter":{"title":"Parcelize Parcelable 을 편하게 사용하기"}}},"pageContext":{"id":"0b6a7e68-5ab3-5917-b48a-fa2e67160d08","previousPostId":"29186c8f-987b-50d8-85d0-76e27d0a5c09","nextPostId":"e6f8ef79-e418-570d-a838-0274b1d186fd"}},"staticQueryHashes":["2046863741","3000541721","3274528899"],"slicesMap":{}}